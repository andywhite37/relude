<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Relude_Ior (api.Relude_Ior)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../">Up</a> – <a href="../">api</a> &#x00BB; Relude_Ior</nav><h1>Module <code>Relude_Ior</code></h1><p><code>Ior</code> is similar to result, but it has the ability to collect &quot;non-fatal warning&quot; information during applicative validation.</p><p>E.g. if you are doing applicative validation to construct a User model, you could parse a phone number and allow it, but collect a warning that certain phone number formats are deprecated.</p></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> Relude_Ior_Type<span class="keyword">;</span></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t('a, 'b)</code><code> = Relude_Ior_Type.t<span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span></code><code> = </code><table class="variant"><tr id="type-t.This" class="anchored"><td class="def constructor"><a href="#type-t.This" class="anchor"></a><code>| </code><code><span class="constructor">This</span>(<span class="type-var">'a</span>)</code></td></tr><tr id="type-t.That" class="anchored"><td class="def constructor"><a href="#type-t.That" class="anchor"></a><code>| </code><code><span class="constructor">That</span>(<span class="type-var">'b</span>)</code></td></tr><tr id="type-t.Both" class="anchored"><td class="def constructor"><a href="#type-t.Both" class="anchor"></a><code>| </code><code><span class="constructor">Both</span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</code></td></tr></table>;</dt></dl></details></div></div></div><dl><dt class="spec value" id="val-this"><a href="#val-this" class="anchor"></a><code><span class="keyword">let</span> this: <span class="type-var">'a</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Constructs a This value with the given success value</p></dd></dl><dl><dt class="spec value" id="val-that"><a href="#val-that" class="anchor"></a><code><span class="keyword">let</span> that: <span class="type-var">'b</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Constructs an That value with the given that value</p></dd></dl><dl><dt class="spec value" id="val-both"><a href="#val-both" class="anchor"></a><code><span class="keyword">let</span> both: <span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Constructs an Both value with the given this and that values</p></dd></dl><dl><dt class="spec value" id="val-isThis"><a href="#val-isThis" class="anchor"></a><code><span class="keyword">let</span> isThis: a b. <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> bool;</code></dt><dd><p>Indicates if the Ior is This with any value</p></dd></dl><dl><dt class="spec value" id="val-isThat"><a href="#val-isThat" class="anchor"></a><code><span class="keyword">let</span> isThat: a b. <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> bool;</code></dt><dd><p>Indicates if the Ior is That with any value</p></dd></dl><dl><dt class="spec value" id="val-isBoth"><a href="#val-isBoth" class="anchor"></a><code><span class="keyword">let</span> isBoth: a b. <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> bool;</code></dt><dd><p>Indicates if the Ior is Both with any values</p></dd></dl><dl><dt class="spec value" id="val-getThis"><a href="#val-getThis" class="anchor"></a><code><span class="keyword">let</span> getThis: a b. <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p>Gets the 'a value out of the Ior</p></dd></dl><dl><dt class="spec value" id="val-getThat"><a href="#val-getThat" class="anchor"></a><code><span class="keyword">let</span> getThat: a b. <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> option(<span class="type-var">'b</span>);</code></dt><dd><p>Gets the 'b value out of the Ior</p></dd></dl><dl><dt class="spec value" id="val-partition"><a href="#val-partition" class="anchor"></a><code><span class="keyword">let</span> partition: a b. list(<a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>) <span>=&gt;</span> <span>(list(<span class="type-var">'a</span>), list(<span class="type-var">'b</span>), list(<span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>))</span>;</code></dt><dd><p>Partitions a list of Iors into lists of the values for each constructor</p></dd></dl><dl><dt class="spec value" id="val-catThis"><a href="#val-catThis" class="anchor"></a><code><span class="keyword">let</span> catThis: a b. list(<a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>) <span>=&gt;</span> list(<span class="type-var">'a</span>);</code></dt><dd><p>Extracts that 'a values out of a list of Iors</p></dd></dl><dl><dt class="spec value" id="val-catThat"><a href="#val-catThat" class="anchor"></a><code><span class="keyword">let</span> catThat: a b. list(<a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>) <span>=&gt;</span> list(<span class="type-var">'b</span>);</code></dt><dd><p>Extracts that 'b values out of a list of Iors</p></dd></dl><dl><dt class="spec value" id="val-mapThis"><a href="#val-mapThis" class="anchor"></a><code><span class="keyword">let</span> mapThis: a b c. <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'c</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'c</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Maps a pure function over the <code>this</code> channel of the Ior</p></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">let</span> map: <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>)</span>;</code></dt><dd><p>Alias for <code>mapThis</code></p></dd></dl><dl><dt class="spec value" id="val-mapThat"><a href="#val-mapThat" class="anchor"></a><code><span class="keyword">let</span> mapThat: a b c. <span>(<span class="type-var">'b</span> <span>=&gt;</span> <span class="type-var">'c</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'c</span>)</span>;</code></dt><dd><p>Maps a pure function over the <code>that</code> channel of the Ior</p></dd></dl><dl><dt class="spec value" id="val-tap"><a href="#val-tap" class="anchor"></a><code><span class="keyword">let</span> tap: a b. <span>(<span class="type-var">'a</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> <span>(<span class="type-var">'b</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Applies a side effect function if the value is This, That, or Both</p></dd></dl><dl><dt class="spec value" id="val-tapThis"><a href="#val-tapThis" class="anchor"></a><code><span class="keyword">let</span> tapThis: a b. <span>(<span class="type-var">'a</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Applies a side-effect function if the value is This</p></dd></dl><dl><dt class="spec value" id="val-tapThat"><a href="#val-tapThat" class="anchor"></a><code><span class="keyword">let</span> tapThat: a b. <span>(<span class="type-var">'b</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Applies a side-effect function if the value is That</p></dd></dl><dl><dt class="spec value" id="val-tapBoth"><a href="#val-tapBoth" class="anchor"></a><code><span class="keyword">let</span> tapBoth: a b. <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Applies a side-effect function if the value is Both</p></dd></dl><dl><dt class="spec value" id="val-tapThisOrBoth"><a href="#val-tapThisOrBoth" class="anchor"></a><code><span class="keyword">let</span> tapThisOrBoth: a b. <span>(<span class="type-var">'a</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Applies a side effect function to the 'a value in an This or an Both</p></dd></dl><dl><dt class="spec value" id="val-tapThatOrBoth"><a href="#val-tapThatOrBoth" class="anchor"></a><code><span class="keyword">let</span> tapThatOrBoth: a b. <span>(<span class="type-var">'b</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Applies a side effect function to the 'b value in an That or an Both</p></dd></dl><dl><dt class="spec value" id="val-applyWithAppendThats"><a href="#val-applyWithAppendThats" class="anchor"></a><code><span class="keyword">let</span> applyWithAppendThats: <span>(<span class="type-var">'b</span> <span>=&gt;</span> <span class="type-var">'b</span> <span>=&gt;</span> <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'c</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'c</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Applies a wrapped function to the success channel, with <code>that</code> collecting semantics.</p></dd></dl><dl><dt class="spec value" id="val-pure"><a href="#val-pure" class="anchor"></a><code><span class="keyword">let</span> pure: a b. <span class="type-var">'a</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Lifts a pure value into an This</p></dd></dl><dl><dt class="spec value" id="val-bind"><a href="#val-bind" class="anchor"></a><code><span class="keyword">let</span> bind: <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <span>(<span class="type-var">'a</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'c</span>, <span class="type-var">'b</span>)</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'c</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Applies a monadic function to the success channel of the Ior</p></dd></dl><dl><dt class="spec value" id="val-flatMap"><a href="#val-flatMap" class="anchor"></a><code><span class="keyword">let</span> flatMap: <span>(<span class="type-var">'a</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'c</span>, <span class="type-var">'b</span>)</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'c</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Applies a monadic function to the success channel of the Ior</p></dd></dl><dl><dt class="spec value" id="val-map2"><a href="#val-map2" class="anchor"></a><code><span class="keyword">let</span> map2: <span>(<span class="type-var">'x</span> <span>=&gt;</span> <span class="type-var">'x</span> <span>=&gt;</span> <span class="type-var">'x</span>)</span> <span>=&gt;</span> <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span> <span>=&gt;</span> <span class="type-var">'c</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'b</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'c</span>, <span class="type-var">'x</span>)</span>;</code></dt><dd><p>Maps the results of 2 Ior values using the given function</p></dd></dl><dl><dt class="spec value" id="val-map3"><a href="#val-map3" class="anchor"></a><code><span class="keyword">let</span> map3: <span>(<span class="type-var">'x</span> <span>=&gt;</span> <span class="type-var">'x</span> <span>=&gt;</span> <span class="type-var">'x</span>)</span> <span>=&gt;</span> <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span> <span>=&gt;</span> <span class="type-var">'c</span> <span>=&gt;</span> <span class="type-var">'d</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'b</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'c</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'d</span>, <span class="type-var">'x</span>)</span>;</code></dt><dd><p>Maps the results of 3 Ior values using the given function</p></dd></dl><dl><dt class="spec value" id="val-map4"><a href="#val-map4" class="anchor"></a><code><span class="keyword">let</span> map4: <span>(<span class="type-var">'x</span> <span>=&gt;</span> <span class="type-var">'x</span> <span>=&gt;</span> <span class="type-var">'x</span>)</span> <span>=&gt;</span> <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span> <span>=&gt;</span> <span class="type-var">'c</span> <span>=&gt;</span> <span class="type-var">'d</span> <span>=&gt;</span> <span class="type-var">'e</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'b</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'c</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'d</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'e</span>, <span class="type-var">'x</span>)</span>;</code></dt><dd><p>Maps the results of 4 Ior values using the given function</p></dd></dl><dl><dt class="spec value" id="val-map5"><a href="#val-map5" class="anchor"></a><code><span class="keyword">let</span> map5: <span>(<span class="type-var">'x</span> <span>=&gt;</span> <span class="type-var">'x</span> <span>=&gt;</span> <span class="type-var">'x</span>)</span> <span>=&gt;</span> <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span> <span>=&gt;</span> <span class="type-var">'c</span> <span>=&gt;</span> <span class="type-var">'d</span> <span>=&gt;</span> <span class="type-var">'e</span> <span>=&gt;</span> <span class="type-var">'f</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'b</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'c</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'d</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'e</span>, <span class="type-var">'x</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'f</span>, <span class="type-var">'x</span>)</span>;</code></dt><dd><p>Maps the results of 5 Ior values using the given function</p></dd></dl><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">let</span> fold: a b c. <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'c</span>)</span> <span>=&gt;</span> <span>(<span class="type-var">'b</span> <span>=&gt;</span> <span class="type-var">'c</span>)</span> <span>=&gt;</span> <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span> <span>=&gt;</span> <span class="type-var">'c</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <span class="type-var">'c</span>;</code></dt><dd><p>Folds an Ior into a value by applying a function for each case</p></dd></dl><dl><dt class="spec value" id="val-toTuple"><a href="#val-toTuple" class="anchor"></a><code><span class="keyword">let</span> toTuple: a b. <span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>;</code></dt><dd><p>Converts an Ior into a tuple by filling in default values if needed</p></dd></dl><dl><dt class="spec value" id="val-merge"><a href="#val-merge" class="anchor"></a><code><span class="keyword">let</span> merge: a. <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'a</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>)</span> <span>=&gt;</span> <span class="type-var">'a</span>;</code></dt><dd><p>Collapses an Ior containing two same-typed values into a value of that type, combining the values if needed</p></dd></dl><dl><dt class="spec value" id="val-mergeWith"><a href="#val-mergeWith" class="anchor"></a><code><span class="keyword">let</span> mergeWith: a b c. <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'c</span>)</span> <span>=&gt;</span> <span>(<span class="type-var">'b</span> <span>=&gt;</span> <span class="type-var">'c</span>)</span> <span>=&gt;</span> <span>(<span class="type-var">'c</span> <span>=&gt;</span> <span class="type-var">'c</span> <span>=&gt;</span> <span class="type-var">'c</span>)</span> <span>=&gt;</span> <a href="#type-t">t</a><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> <span class="type-var">'c</span>;</code></dt><dd><p>Collapses an Ior by converting each side into a same-typed value, and combining them if needed</p></dd></dl><dl><dt class="spec module" id="module-WithThats"><a href="#module-WithThats" class="anchor"></a><code><span class="keyword">module</span> <a href="WithThats">WithThats</a>:  (<a href="WithThats#argument-1-Thats">Thats</a>: BsBastet.Interface.SEMIGROUP_ANY) <span>=&gt;</span>  (<a href="WithThats#argument-2-That">That</a>: BsBastet.Interface.TYPE) <span>=&gt;</span> { ... };</code></dt><dd><p>Creates a module that locks in the That TYPE and SEMIGROUP_ANY modules, so that we can implement the typeclass instances for the single-type-parameter type classes.</p></dd></dl></div></body></html>