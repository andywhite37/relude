<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Relude_Option_Base (api.Relude_Option_Base)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../">Up</a> – <a href="../">api</a> &#x00BB; Relude_Option_Base</nav><h1>Module <code>Relude_Option_Base</code></h1></header><dl><dt class="spec value" id="val-some"><a href="#val-some" class="anchor"></a><code><span class="keyword">let</span> some: a. <span class="type-var">'a</span> <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p><code>Option.some</code> constructs an <code>option</code> from a value.</p></dd></dl><dl><dt class="spec value" id="val-none"><a href="#val-none" class="anchor"></a><code><span class="keyword">let</span> none: a. option(<span class="type-var">'a</span>);</code></dt><dd><p><code>Option.none</code> is the empty value for <code>option</code>.</p></dd></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">let</span> empty: a. option(<span class="type-var">'a</span>);</code></dt><dd><p><code>Option.empty</code> is an alias for <code>Option.none</code>.</p></dd></dl><dl><dt class="spec value" id="val-isSome"><a href="#val-isSome" class="anchor"></a><code><span class="keyword">let</span> isSome: a. option(<span class="type-var">'a</span>) <span>=&gt;</span> bool;</code></dt><dd><p><code>Option.isSome</code> returns <code>true</code> if the provided option is not <code>None</code>.</p></dd></dl><dl><dt class="spec value" id="val-isNone"><a href="#val-isNone" class="anchor"></a><code><span class="keyword">let</span> isNone: a. option(<span class="type-var">'a</span>) <span>=&gt;</span> bool;</code></dt><dd><p><code>Option.isNone</code> returns <code>true</code> if the provided option does not contain <code>Some</code> value.</p></dd></dl><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">let</span> fold: a b. <span class="type-var">'b</span> <span>=&gt;</span> <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span>)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> <span class="type-var">'b</span>;</code></dt><dd><p><code>Option.fold</code> applies the provided function to the inner value when the given option is <code>Some</code>, or returns the provided default value if the option is <code>None</code>.</p><p>This is not a lazy function, as the <code>default</code> value is always constructed, whether or not that value is needed. See <a href="#val-foldLazy"><code>foldLazy</code></a> for an alternative.</p><pre><code class="ml">Option.fold(0.0, x =&gt; 1.0 /. x, Some(2.0)) == 0.5;
Option.fold(0.0, x =&gt; 1.0 /. x, None) == 0.0;</code></pre></dd></dl><dl><dt class="spec value" id="val-foldLazy"><a href="#val-foldLazy" class="anchor"></a><code><span class="keyword">let</span> foldLazy: a b. <span>(unit <span>=&gt;</span> <span class="type-var">'b</span>)</span> <span>=&gt;</span> <span>(<span class="type-var">'a</span> <span>=&gt;</span> <span class="type-var">'b</span>)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> <span class="type-var">'b</span>;</code></dt><dd><p><code>Option.foldLazy</code> applies the provided mapping function to the inner value in the option if the option is <code>Some</code>, otherwise a default value is computed and returned by calling the provided fallback function.</p><p>This is a <em>lazy</em> function because the default value is not evaluated unless the option is <code>None</code>. This is useful when the fallback value is expensive to compute.</p><pre><code class="ml">Option.foldLazy(() =&gt; &quot;empty&quot;, Int.toString, Some(2)) == &quot;2&quot;;
Option.foldLazy(() =&gt; &quot;empty&quot;, Int.toString, None) == &quot;empty&quot;;</code></pre></dd></dl><dl><dt class="spec value" id="val-getOrElse"><a href="#val-getOrElse" class="anchor"></a><code><span class="keyword">let</span> getOrElse: a. <span class="type-var">'a</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> <span class="type-var">'a</span>;</code></dt><dd><p><code>getOrElse(default, opt)</code> returns <code>v</code> when <code>opt</code> is <code>Some(v)</code>. If <code>opt</code> is <code>None</code>, <code>getOrelse</code> returns <code>default</code>.</p><p>If the option is <code>None</code>, <code>getOrElse</code> returns <code>default</code>, which must be of the same type that as <code>v</code>.</p><p>This is not a lazy function, as the <code>default</code> value is always evaluated, no matter what <code>opt</code>’s value is.</p><pre><code class="ml">getOrElse(0, Some(3)) == 3;
getOrElse(0, None) == 0;</code></pre></dd></dl><dl><dt class="spec value" id="val-getOrElseLazy"><a href="#val-getOrElseLazy" class="anchor"></a><code><span class="keyword">let</span> getOrElseLazy: a. <span>(unit <span>=&gt;</span> <span class="type-var">'a</span>)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> <span class="type-var">'a</span>;</code></dt><dd><p><code>Option.getOrElseLazy</code> returns the inner value when the provided option is <code>Some</code>. If the option is <code>None</code>, the fallback function is called, and its value is returned. This fallback takes no parameters and returns a value of the same type as the inner option.</p><p>This is a <em>lazy</em> function, meaning the default value is not computed unless the option is <code>None</code>. This is useful in cases where the default is expensive to construct.</p><pre><code class="ml">Option.getOrElseLazy(() =&gt; 0, Some(3)) == 3;
Option.getOrElseLazy(() =&gt; 0, None) == 0;</code></pre></dd></dl><dl><dt class="spec value" id="val-getOrThrow"><a href="#val-getOrThrow" class="anchor"></a><code><span class="keyword">let</span> getOrThrow: a. option(<span class="type-var">'a</span>) <span>=&gt;</span> <span class="type-var">'a</span>;</code></dt><dd><p><code>getOrThrow(opt)</code> returns the value of the option or throws an exception.</p><p>This should only be used if you are absolutely sure there is a value in the option.</p></dd></dl><dl><dt class="spec value" id="val-orElse"><a href="#val-orElse" class="anchor"></a><code><span class="keyword">let</span> orElse: a. <span>fallback:option(<span class="type-var">'a</span>)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p>Similar to alt, but with the arguments reversed and labelled for use with <code>|&gt;</code></p></dd></dl><dl><dt class="spec value" id="val-orElseLazy"><a href="#val-orElseLazy" class="anchor"></a><code><span class="keyword">let</span> orElseLazy: a. <span>fallback:<span>(unit <span>=&gt;</span> option(<span class="type-var">'a</span>))</span></span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p>Similar to alt, but with the arguments reversed and labelled for use with <code>|&gt;</code>. The fallback value is also lazy for expensive constructions.</p></dd></dl><dl><dt class="spec value" id="val-tap"><a href="#val-tap" class="anchor"></a><code><span class="keyword">let</span> tap: a. <span>(<span class="type-var">'a</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p><code>tap(f, opt)</code> applies a side-effect function to the value in a <code>Some</code>, and returns the original option value untouched.</p></dd></dl><dl><dt class="spec value" id="val-tapSome"><a href="#val-tapSome" class="anchor"></a><code><span class="keyword">let</span> tapSome: a. <span>(<span class="type-var">'a</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p><code>tapSome</code> is an alias for <a href="#val-tap"><code>tap</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-tapNone"><a href="#val-tapNone" class="anchor"></a><code><span class="keyword">let</span> tapNone: a. <span>(unit <span>=&gt;</span> unit)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p><code>tap(f, opt)</code> applies a side-effect function if the value of the option is None, and returns the original option value untouched.</p></dd></dl><dl><dt class="spec value" id="val-bitap"><a href="#val-bitap" class="anchor"></a><code><span class="keyword">let</span> bitap: a. <span>(unit <span>=&gt;</span> unit)</span> <span>=&gt;</span> <span>(<span class="type-var">'a</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p><code>bitap(ifNone, ifSome, opt)</code> applies a side effect function for each of the cases of the option, and returns the original option untouched.</p></dd></dl><dl><dt class="spec value" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span class="keyword">let</span> filter: a. <span>(<span class="type-var">'a</span> <span>=&gt;</span> bool)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p><code>filter(f, opt)</code> works as follows:</p><ul><li>If <code>opt</code> is <code>Some(v)</code> and <code>f(v)</code> is <code>true</code>, the result is <code>Some(v)</code>.</li><li>If <code>opt</code> is <code>Some(v)</code> and <code>f(v)</code> is <code>false</code>, the result is <code>None</code>.</li><li>If <code>opt</code> is <code>None</code>, the result is <code>None</code>.</li></ul><pre><code class="ml">let isEven = x =&gt; x mod 2 == 0;
filter(isEven, Some(2)) == Some(2);
filter(isEven, Some(3)) == None;
filter(isEven, None) == None;</code></pre></dd></dl><dl><dt class="spec value" id="val-keep"><a href="#val-keep" class="anchor"></a><code><span class="keyword">let</span> keep: a. <span>(<span class="type-var">'a</span> <span>=&gt;</span> bool)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p><code>Option.keep</code> is an alias for <a href="#val-filter"><code>filter</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-filterNot"><a href="#val-filterNot" class="anchor"></a><code><span class="keyword">let</span> filterNot: a. <span>(<span class="type-var">'a</span> <span>=&gt;</span> bool)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p><code>filterNot</code> is the inverse of <code>filter</code>, meaning <code>Some</code> values are preserved if the provided predicate function returns false.</p><pre><code class="ml">let isEven = x =&gt; x mod 2 == 0;
filterNot(isEven, Some(1)) == Some(1);
filterNot(isEven, Some(2)) == None;</code></pre></dd></dl><dl><dt class="spec value" id="val-reject"><a href="#val-reject" class="anchor"></a><code><span class="keyword">let</span> reject: a. <span>(<span class="type-var">'a</span> <span>=&gt;</span> bool)</span> <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>);</code></dt><dd><p>Alias of filterNot</p></dd></dl></div></body></html>